{"version":3,"sources":["../node_modules/react-bootstrap/esm/Row.js","components/SingleQuote.js","api/api.js","components/Menu.js","components/RoleMenu.js","hoc/Layout/Layout.js","../node_modules/react-bootstrap/esm/Button.js","components/Fallback.js"],"names":["_excluded","DEVICE_SIZES","Row","React","forwardRef","_ref","ref","bsPrefix","className","noGutters","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","sizePrefix","classes","forEach","brkPoint","cols","propValue","infix","push","createElement","_extends","classNames","apply","concat","displayName","defaultProps","SingleQuote","state","quote","comments","isLoggedIn","isOffline","id","this","match","params","postId","api","then","res","console","log","status","setLogginState","data","setQuoteState","setState","catch","err","loadQuote","BroadcastChannel","onmessage","message","finished","to","Fallback","card","Card","Body","body","title","author","Footer","length","map","comment","Text","text","Layout","showBackButton","Container","newLogginState","Object","assign","path","method","role","Promise","resolve","requestData","url","JSON","stringify","headers","getToken","axios","responseHandler","a","response","localStorage","getItem","tokenExists","saveToken","token","setItem","MenuItem","link","Menu","items","Navbar","bg","variant","fixed","Brand","Nav","item","RoleMenu","visitorMenuItems","userMenuItems","alertStyle","position","left","bottom","width","zIndex","margin","textAlign","useState","setIsOffline","useEffect","goOnline","window","goOffline","addEventListener","removeEventListener","header","Alert","style","children","Button","size","active","block","type","prefix","href","SafeAnchor","disabled","onReloadClickHandler","location","reload","onClick"],"mappings":"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","file":"static/js/5.d492eae0.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"noGutters\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar defaultProps = {\n  noGutters: false\n};\nvar Row = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      noGutters = _ref.noGutters,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  var sizePrefix = decoratedBsPrefix + \"-cols\";\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      cols = propValue.cols;\n    } else {\n      cols = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (cols != null) classes.push(\"\" + sizePrefix + infix + \"-\" + cols);\n  });\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames.apply(void 0, [className, decoratedBsPrefix, noGutters && 'no-gutters'].concat(classes))\n  }));\n});\nRow.displayName = 'Row';\nRow.defaultProps = defaultProps;\nexport default Row;","import React, { Component } from \"react\";\r\nimport { Card, Container, Row } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router\";\r\nimport api from \"../api/api\";\r\nimport Layout from \"../hoc/Layout/Layout\";\r\nimport Fallback from \"./Fallback\";\r\n\r\nexport default class SingleQuote extends React.Component {\r\n   constructor(props) {\r\n       super(props);\r\n\r\n       this.state = {\r\n           quote: {\r\n              comments: []\r\n           },\r\n           isLoggedIn: true,\r\n           isOffline: false,\r\n        }\r\n    }\r\n\r\n    loadQuote() {\r\n        let id = this.props.match.params.postId;\r\n\r\n        api(\"api/post/\" + id, \"get\", {})\r\n        .then((res) => {\r\n            console.log(res);\r\n            //if (res.status === \"error\" || res.status === \"login\") {\r\n            if (res.status === 'error') {\r\n              //this.props.history.replace('/fallback');\r\n              this.setState({\r\n                isOffline: true,\r\n              });\r\n              return;\r\n            }\r\n            if (res.status === \"login\") {\r\n                this.setLogginState(false);\r\n            }\r\n\r\n            const quote = res.data;\r\n            if (quote) {\r\n                this.setQuoteState(quote);\r\n            }\r\n\r\n            this.setState({\r\n              isOffline: false,\r\n            });\r\n            console.log(\"QUOTE\", quote);\r\n        }).catch((err) => console.log(err));\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.loadQuote();\r\n\r\n        const bc = new BroadcastChannel('sync-channel');\r\n        bc.onmessage = (message) => {\r\n            console.log(message);\r\n            if (message.data.finished) {\r\n                this.loadQuote();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn === false) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        if (this.state.isOffline) {\r\n          return <Fallback />;\r\n        }\r\n\r\n        let card = (\r\n            <Card>\r\n                <Card.Body>\r\n                <blockquote className=\"blockquote mb-0\">\r\n                    <p>\r\n                        {' '}\r\n                            {this.state.quote.body}\r\n                        {' '}\r\n                    </p>\r\n                    <footer className=\"blockquote-footer\">\r\n                        Someone famous in <cite title=\"Source Title\">{this.state.quote.author}</cite>\r\n                    </footer>\r\n                </blockquote>\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    {this.state.quote.comments.length === 0 && <br />}\r\n                    {this.state.quote.comments.map((comment) => {\r\n                        return(\r\n                            <div>\r\n                                <Card.Text key={comment.id}>\r\n                                    <Row>\r\n                                        <p>Comment {comment.text}</p>\r\n                                    </Row>\r\n                                </Card.Text>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </Card.Footer>\r\n            </Card>\r\n          );\r\n\r\n        return(\r\n            <Layout isLoggedIn={this.state.isLoggedIn} showBackButton>\r\n                <Container>\r\n                    <br />\r\n                    <br />\r\n                    {card}\r\n                </Container>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n    setLogginState(isLoggedIn) {\r\n        const newLogginState = Object.assign(this.state, {\r\n            isLoggedIn: isLoggedIn,\r\n        });\r\n\r\n        this.setState(newLogginState);\r\n    }\r\n\r\n    setQuoteState(quote) {\r\n        this.setState(Object.assign(this.state, {\r\n            quote: quote,\r\n        }));\r\n    }\r\n\r\n    setCommentsState(comments) {\r\n        this.setState(Object.assign(this.state, {\r\n            comments: comments,\r\n        }));\r\n    }\r\n}\r\n\r\n\r\n/*\r\n\r\n\r\n    <Card.Title>\r\n        <p>{this.state.quote.author}</p>\r\n    </Card.Title>\r\n    <Card.Text>\r\n        <p>{this.state.quote.body}</p>\r\n    </Card.Text>\r\n\r\n\r\n\r\n\r\n\r\n*/","import axios from \"axios\";\r\n\r\nexport default function api(path, method, body, role=\"allowed\") {\r\n    return new Promise((resolve) => {\r\n        const requestData = {\r\n            method: method,\r\n            url: \"https://service-forum.herokuapp.com/\" + path,\r\n            data: JSON.stringify(body),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": getToken(role),\r\n            },\r\n        };\r\n\r\n        axios(requestData)\r\n        .then(res => responseHandler(res, resolve))\r\n        .catch(async err => {\r\n\r\n            if (err.response && err.response.status === 401) {\r\n                const response = {\r\n                    status: \"login\",\r\n                    data: null\r\n                };\r\n                console.log(response);\r\n                return resolve(response);\r\n            }\r\n           \r\n            const response = {\r\n                status: \"error\",\r\n                data: err\r\n            };\r\n\r\n            resolve(response);\r\n\r\n        });\r\n    });\r\n}\r\n\r\nasync function responseHandler(res, resolve) {\r\n    console.log(res);\r\n    if (res.status < 200 || res.status >= 300) {\r\n        const response = {\r\n            status:'error',\r\n            data: res.data,\r\n        };\r\n\r\n        return resolve(response);\r\n    }\r\n\r\n    const response = {\r\n        status: \"ok\",\r\n        data: res.data,\r\n    };\r\n\r\n    return resolve(response);\r\n}\r\n\r\nfunction getToken(role) {\r\n    const token = localStorage.getItem(\"token_\" + role);\r\n    return \"Bearer \" + token;\r\n}\r\n\r\nexport function tokenExists(role) {\r\n    const token = localStorage.getItem(\"token_\" + role);\r\n    if (token) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function saveToken(role, token) {\r\n    localStorage.setItem(\"token_\" + role, token);\r\n}\r\n\r\nexport function removeToken(role) {\r\n    localStorage.removeItem(\"token_\" + role);\r\n}\r\n","import React from 'react';\r\nimport { Navbar, Container, Nav } from 'react-bootstrap';\r\nimport { HashRouter, Link } from 'react-router-dom';\r\nimport '../css/Menu.css';\r\n\r\nexport class MenuItem {\r\n    text = \"\";\r\n    link = \"\";\r\n\r\n    constructor(text, link) {\r\n        this.text = text;\r\n        this.link = link;\r\n    }\r\n}\r\n\r\nexport default class Menu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            items: []\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Navbar bg=\"light\" variant=\"light\" fixed=\"top\">\r\n                    <Container>\r\n                        <Navbar.Brand >QR</Navbar.Brand>\r\n                        <Nav className=\"mr-auto\">\r\n                        <HashRouter>\r\n                            {\r\n                                this.props.items.map(item =>{\r\n                                    return(\r\n                                        <Link to={item.link}>\r\n                                            {item.text}\r\n                                        </Link>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </HashRouter>\r\n                        </Nav>\r\n                    </Container>\r\n                </Navbar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Menu, { MenuItem } from './Menu.js';\r\n\r\nexport default class RoleMenu extends React.Component {\r\n   constructor(props) {\r\n       super(props);\r\n\r\n       this.state = {\r\n           role: \"\",\r\n       }\r\n    }\r\n\r\n    render() {\r\n        let items = [];\r\n\r\n        switch (this.props.role) {\r\n            case \"visitor\" : items = this.visitorMenuItems(); break;\r\n            case \"allowed\" : items = this.userMenuItems();    break;\r\n        }\r\n\r\n        return <Menu items={items} />\r\n    }\r\n\r\n    visitorMenuItems() {\r\n        return [\r\n            new MenuItem(\"Home\", \"/\"),\r\n            new MenuItem(\"Sign In\", \"/signin\"),\r\n        ];\r\n    }\r\n\r\n    userMenuItems() {\r\n        return [\r\n            new MenuItem(\"Quotes\", \"/quotes\"),\r\n        ];\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\nimport 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport 'jquery/dist/jquery.min.js'\nimport 'popper.js';\nimport { Alert } from 'react-bootstrap';\n\nimport RoleMenu from '../../components/RoleMenu';\n\nconst createHeader = (isLoggedIn, showBackButton) => {\n  return (\n    <RoleMenu role={isLoggedIn ? 'allowed' : 'visitor'} showBackButton={showBackButton} />\n  );\n}\n\nconst alertStyle = {\n  position: 'fixed',\n  left: 0,\n  bottom: 0,\n  width: '100%',\n  zIndex: 9999,\n  margin: 0,\n  textAlign: 'center'\n}\n\nconst Layout = (props) => {\n  const [isOffline, setIsOffline] = useState(false);\n\n  useEffect(() => {\n    const goOnline = () => {\n      window.isOffline = false;\n      setIsOffline(false);\n    }\n\n    const goOffline = () => {\n      window.isOffline = true;\n      setIsOffline(true);\n    }\n\n    window.addEventListener('online', goOnline);\n    window.addEventListener('offline', goOffline);\n\n    return () => {\n      window.removeEventListener('online', goOnline);\n      window.removeEventListener('offline', goOffline);\n    }\n  });\n\n  useEffect(() => {\n    if (window.isOffline) {\n      setIsOffline(true);\n    }\n  }, []);\n\n  const header = createHeader(props.isLoggedIn, props.showBackButton);\n\n  return (\n    <div>\n      {header}\n      { isOffline ? <Alert variant=\"warning\" style={alertStyle}>Offline mode</Alert> : null }\n      <br />\n      {props.children}\n    </div>\n  );\n}\n\nexport default Layout;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"size\", \"active\", \"className\", \"block\", \"type\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nvar Button = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      size = _ref.size,\n      active = _ref.active,\n      className = _ref.className,\n      block = _ref.block,\n      type = _ref.type,\n      as = _ref.as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  var classes = classNames(className, prefix, active && 'active', variant && prefix + \"-\" + variant, block && prefix + \"-block\", size && prefix + \"-\" + size);\n\n  if (props.href) {\n    return /*#__PURE__*/React.createElement(SafeAnchor, _extends({}, props, {\n      as: as,\n      ref: ref,\n      className: classNames(classes, props.disabled && 'disabled')\n    }));\n  }\n\n  if (ref) {\n    props.ref = ref;\n  }\n\n  if (type) {\n    props.type = type;\n  } else if (!as) {\n    props.type = 'button';\n  }\n\n  var Component = as || 'button';\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    className: classes\n  }));\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import React, { Component } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport '../css/Fallback.css';\nimport { tokenExists } from '../api/api';\nimport Layout from '../hoc/Layout/Layout';\n\nclass Fallback extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: tokenExists('allowed'),\n    };\n  }\n\n  onReloadClickHandler = () => {\n    if (!window.isOffline) {\n      window.location.reload();\n    }\n  }\n\n  render() {\n    return (\n      <Layout isLoggedIn={this.state.isLoggedIn}>\n        <div className=\"fallback\">\n          <Card>\n          <Card.Body>\n            <h1>No Internet Connection</h1>\n            <Button variant=\"primary\" onClick={this.onReloadClickHandler}>Reload</Button>\n          </Card.Body>\n          </Card>\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Fallback;\n"],"sourceRoot":""}