{"version":3,"file":"static/js/58.96e9efa0.chunk.js","mappings":"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","sources":["api/api.js","components/Register.js","components/Menu.js","components/RoleMenu.js","hoc/Layout/Layout.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default function api(path, method, body, role=\"allowed\") {\r\n    return new Promise((resolve) => {\r\n        const requestData = {\r\n            method: method,\r\n            url: \"https://service-forum.herokuapp.com/\" + path,\r\n            data: JSON.stringify(body),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": getToken(role),\r\n            },\r\n        };\r\n\r\n        axios(requestData)\r\n        .then(res => responseHandler(res, resolve))\r\n        .catch(async err => {\r\n\r\n            if (err.response && err.response.status === 401) {\r\n                const response = {\r\n                    status: \"login\",\r\n                    data: null\r\n                };\r\n                console.log(response);\r\n                return resolve(response);\r\n            }\r\n           \r\n            const response = {\r\n                status: \"error\",\r\n                data: err\r\n            };\r\n\r\n            resolve(response);\r\n\r\n        });\r\n    });\r\n}\r\n\r\nasync function responseHandler(res, resolve) {\r\n    console.log(res);\r\n    if (res.status < 200 || res.status >= 300) {\r\n        const response = {\r\n            status:'error',\r\n            data: res.data,\r\n        };\r\n\r\n        return resolve(response);\r\n    }\r\n\r\n    const response = {\r\n        status: \"ok\",\r\n        data: res.data,\r\n    };\r\n\r\n    return resolve(response);\r\n}\r\n\r\nfunction getToken(role) {\r\n    const token = localStorage.getItem(\"token_\" + role);\r\n    return \"Bearer \" + token;\r\n}\r\n\r\nexport function tokenExists(role) {\r\n    const token = localStorage.getItem(\"token_\" + role);\r\n    if (token) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function saveToken(role, token) {\r\n    localStorage.setItem(\"token_\" + role, token);\r\n}\r\n\r\nexport function removeToken(role) {\r\n    localStorage.removeItem(\"token_\" + role);\r\n}\r\n","import React from 'react';\r\nimport { Button, Card, Col, Form } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport api from '../api/api';\r\nimport Layout from '../hoc/Layout/Layout';\r\nimport '../css/Register.css';\r\n\r\nexport default class Register extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            \r\n            isLoggedIn: false\r\n        }\r\n    }\r\n\r\n    formInputChange(event) {\r\n        const newState = Object.assign(this.state, {\r\n            [event.target.id]: event.target.value\r\n        });\r\n\r\n        this.setState(newState);\r\n    }\r\n\r\n    setRegisterState(isLoggedIn) {\r\n        const newRegisterState = Object.assign(this.state, {\r\n            isLoggedIn: isLoggedIn,\r\n        });\r\n\r\n        this.setState(newRegisterState);\r\n    }\r\n\r\n    doRegister() {\r\n        api(\"auth/register\", \"post\", {\r\n            username: this.state.username,\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n        })\r\n        .then((res) => {\r\n            console.log(res);\r\n\r\n            if (res.status === \"error\") {\r\n                console.log(res.data);\r\n                return;\r\n            }\r\n\r\n            if (res.status === \"ok\") {\r\n                this.setRegisterState(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn) {\r\n            return (\r\n            <Redirect to=\"/signin\" />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Layout isLoggedIn={this.state.isLoggedIn}>\r\n                <div className=\"signin-page\">\r\n                <br />\r\n                <Col md={{span: 6, offset: 3}}>\r\n                    <Card.Body>\r\n                        <Card.Title>\r\n                        <p>Register</p>\r\n                        <span role=\"img\" aria-label=\"pointing_down\"> ðŸ‘‡ </span>\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                            <Form>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label htmlFor=\"username\"> Username: </Form.Label>\r\n                                    <Form.Control type=\"text\" id=\"username\"\r\n                                                  value={this.state.username}\r\n                                                  onChange={event => this.formInputChange(event)} />\r\n                                </Form.Group>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label htmlFor=\"email\"> Email: </Form.Label>\r\n                                    <Form.Control type=\"email\" id=\"email\"\r\n                                                  value={this.state.email}\r\n                                                  onChange={event => this.formInputChange(event)} />\r\n                                </Form.Group>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label htmlFor=\"password\"> Password: </Form.Label>\r\n                                    <Form.Control type=\"password\" id=\"password\"\r\n                                                  value={this.state.password}\r\n                                                  onChange={event => this.formInputChange(event)} />\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <Button variant=\"dark\" size=\"sm\"\r\n                                            onClick= { () => this.doRegister() }> Register</Button>\r\n                                </Form.Group>\r\n                            </Form>\r\n                        </Card.Text>\r\n                    </Card.Body>\r\n                </Col>\r\n                </div>\r\n            </Layout>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Navbar, Container, Nav } from 'react-bootstrap';\r\nimport { HashRouter, Link } from 'react-router-dom';\r\nimport '../css/Menu.css';\r\n\r\nexport class MenuItem {\r\n    text = \"\";\r\n    link = \"\";\r\n\r\n    constructor(text, link) {\r\n        this.text = text;\r\n        this.link = link;\r\n    }\r\n}\r\n\r\nexport default class Menu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            items: []\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Navbar bg=\"light\" variant=\"light\" fixed=\"top\">\r\n                    <Container>\r\n                        <Navbar.Brand >QR</Navbar.Brand>\r\n                        <Nav className=\"mr-auto\">\r\n                        <HashRouter>\r\n                            {\r\n                                this.props.items.map(item =>{\r\n                                    return(\r\n                                        <Link to={item.link}>\r\n                                            {item.text}\r\n                                        </Link>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </HashRouter>\r\n                        </Nav>\r\n                    </Container>\r\n                </Navbar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Menu, { MenuItem } from './Menu.js';\r\n\r\nexport default class RoleMenu extends React.Component {\r\n   constructor(props) {\r\n       super(props);\r\n\r\n       this.state = {\r\n           role: \"\",\r\n       }\r\n    }\r\n\r\n    render() {\r\n        let items = [];\r\n\r\n        switch (this.props.role) {\r\n            case \"visitor\" : items = this.visitorMenuItems(); break;\r\n            case \"allowed\" : items = this.userMenuItems();    break;\r\n        }\r\n\r\n        return <Menu items={items} />\r\n    }\r\n\r\n    visitorMenuItems() {\r\n        return [\r\n            new MenuItem(\"Home\", \"/\"),\r\n            new MenuItem(\"Sign In\", \"/signin\"),\r\n            new MenuItem(\"Register\", \"/register\")\r\n        ];\r\n    }\r\n\r\n    userMenuItems() {\r\n        return [\r\n            new MenuItem(\"Quotes\", \"/quotes\"),\r\n            new MenuItem(\"Sign Out\", \"/signout\")\r\n        ];\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport 'jquery/dist/jquery.min.js'\r\nimport 'popper.js';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nimport RoleMenu from '../../components/RoleMenu';\r\n\r\nconst createHeader = (isLoggedIn, showBackButton) => {\r\n  return (\r\n    <RoleMenu role={isLoggedIn ? 'allowed' : 'visitor'} showBackButton={showBackButton} />\r\n  );\r\n}\r\n\r\nconst alertStyle = {\r\n  position: 'fixed',\r\n  left: 0,\r\n  bottom: 0,\r\n  width: '100%',\r\n  zIndex: 9999,\r\n  margin: 0,\r\n  textAlign: 'center'\r\n}\r\n\r\nconst Layout = (props) => {\r\n  const [isOffline, setIsOffline] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const goOnline = () => {\r\n      window.isOffline = false;\r\n      setIsOffline(false);\r\n    }\r\n\r\n    const goOffline = () => {\r\n      window.isOffline = true;\r\n      setIsOffline(true);\r\n    }\r\n\r\n    window.addEventListener('online', goOnline);\r\n    window.addEventListener('offline', goOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', goOnline);\r\n      window.removeEventListener('offline', goOffline);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (window.isOffline) {\r\n      setIsOffline(true);\r\n    }\r\n  }, []);\r\n\r\n  const header = createHeader(props.isLoggedIn, props.showBackButton);\r\n\r\n  return (\r\n    <div>\r\n      {header}\r\n      { isOffline ? <Alert variant=\"warning\" style={alertStyle}>Offline mode</Alert> : null }\r\n      <br />\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n"],"names":["api","path","method","body","role","Promise","resolve","requestData","url","data","JSON","stringify","headers","getToken","axios","then","res","responseHandler","catch","err","response","status","console","log","localStorage","getItem","tokenExists","saveToken","token","setItem","removeToken","removeItem","Register","props","state","username","email","password","isLoggedIn","event","newState","Object","assign","this","target","id","value","setState","newRegisterState","setRegisterState","to","Layout","className","Col","md","span","offset","Card","Form","as","htmlFor","type","onChange","formInputChange","Button","variant","size","onClick","doRegister","React","MenuItem","text","link","Menu","items","Navbar","bg","fixed","Container","Nav","map","item","RoleMenu","visitorMenuItems","userMenuItems","alertStyle","position","left","bottom","width","zIndex","margin","textAlign","useState","isOffline","setIsOffline","useEffect","goOnline","window","goOffline","addEventListener","removeEventListener","showBackButton","header","Alert","style","children"],"sourceRoot":""}