(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[6],{40:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return b}));var r=n(45),a=n.n(r),i=n(46),c=n(47),s=n.n(c);function o(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"allowed";return new Promise((function(c){var o={method:e,url:"https://service-forum.herokuapp.com/"+t,data:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:f(r)}};s()(o).then((function(t){return u(t,c)})).catch(function(){var t=Object(i.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.response||401!==e.response.status){t.next=4;break}return n={status:"login",data:null},console.log(n),t.abrupt("return",c(n));case 4:c({status:"error",data:e});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}function u(t,e){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(a.a.mark((function t(e,n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),!(e.status<200||e.status>=300)){t.next=4;break}return r={status:"error",data:e.data},t.abrupt("return",n(r));case 4:return i={status:"ok",data:e.data},t.abrupt("return",n(i));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return"Bearer "+localStorage.getItem("token_"+t)}function d(t){return!!localStorage.getItem("token_"+t)}function b(t,e){localStorage.setItem("token_"+t,e)}},41:function(t,e,n){"use strict";var r=n(53),a=n(0),i=n.n(a),c=(n(48),n(49),n(50),n(113)),s=n(13),o=n(14),u=n(16),l=n(15),f=n(112),d=n(108),b=n(111),j=n(17),h=(n(42),n(3)),v=function t(e,n){Object(s.a)(this,t),this.text="",this.link="",this.text=e,this.link=n},O=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).state={items:[]},r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{bg:"light",variant:"light",fixed:"top",children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(f.a.Brand,{children:"QR"}),Object(h.jsx)(b.a,{className:"mr-auto",children:Object(h.jsx)(j.a,{children:this.props.items.map((function(t){return Object(h.jsx)(j.b,{to:t.link,children:t.text})}))})})]})})})}}]),n}(i.a.Component),p=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).state={role:""},r}return Object(o.a)(n,[{key:"render",value:function(){var t=[];switch(this.props.role){case"visitor":t=this.visitorMenuItems();break;case"allowed":t=this.userMenuItems()}return Object(h.jsx)(O,{items:t})}},{key:"visitorMenuItems",value:function(){return[new v("Home","/"),new v("Sign In","/signin")]}},{key:"userMenuItems",value:function(){return[new v("Quotes","/quotes")]}}]),n}(i.a.Component),m={position:"fixed",left:0,bottom:0,width:"100%",zIndex:9999,margin:0,textAlign:"center"};e.a=function(t){var e=Object(a.useState)(!1),n=Object(r.a)(e,2),i=n[0],s=n[1];Object(a.useEffect)((function(){var t=function(){window.isOffline=!1,s(!1)},e=function(){window.isOffline=!0,s(!0)};return window.addEventListener("online",t),window.addEventListener("offline",e),function(){window.removeEventListener("online",t),window.removeEventListener("offline",e)}})),Object(a.useEffect)((function(){window.isOffline&&s(!0)}),[]);var o,u,l=(o=t.isLoggedIn,u=t.showBackButton,Object(h.jsx)(p,{role:o?"allowed":"visitor",showBackButton:u}));return Object(h.jsxs)("div",{children:[l,i?Object(h.jsx)(c.a,{variant:"warning",style:m,children:"Offline mode"}):null,Object(h.jsx)("br",{}),t.children]})}},42:function(t,e,n){},58:function(t,e,n){},76:function(t,e,n){"use strict";var r=n(2),a=n(7),i=n(36),c=n.n(i),s=n(0),o=n.n(s),u=n(37),l=n(44),f=["bsPrefix","variant","size","active","className","block","type","as"],d=o.a.forwardRef((function(t,e){var n=t.bsPrefix,i=t.variant,s=t.size,d=t.active,b=t.className,j=t.block,h=t.type,v=t.as,O=Object(a.a)(t,f),p=Object(u.a)(n,"btn"),m=c()(b,p,d&&"active",i&&p+"-"+i,j&&p+"-block",s&&p+"-"+s);if(O.href)return o.a.createElement(l.a,Object(r.a)({},O,{as:v,ref:e,className:c()(m,O.disabled&&"disabled")}));e&&(O.ref=e),h?O.type=h:v||(O.type="button");var w=v||"button";return o.a.createElement(w,Object(r.a)({},O,{className:m}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},e.a=d},77:function(t,e,n){"use strict";n.r(e);var r=n(13),a=n(14),i=n(16),c=n(15),s=n(0),o=n(116),u=n(76),l=(n(58),n(40)),f=n(41),d=n(3),b=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).onReloadClickHandler=function(){window.isOffline||window.location.reload()},a.state={isLoggedIn:Object(l.c)("allowed")},a}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsx)(f.a,{isLoggedIn:this.state.isLoggedIn,children:Object(d.jsx)("div",{className:"fallback",children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(o.a.Body,{children:[Object(d.jsx)("h1",{children:"No Internet Connection"}),Object(d.jsx)(u.a,{variant:"primary",onClick:this.onReloadClickHandler,children:"Reload"})]})})})})}}]),n}(s.Component);e.default=b}}]);
//# sourceMappingURL=6.c62eaa27.chunk.js.map